{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _objectWithoutProperties2 = require(\"babel-runtime/helpers/objectWithoutProperties\");\n\nvar _objectWithoutProperties3 = _interopRequireDefault(_objectWithoutProperties2);\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\");\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\");\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\");\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\");\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\");\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _bind2 = require(\"lodash/bind\");\n\nvar _bind3 = _interopRequireDefault(_bind2);\n\nexports.withScriptjs = withScriptjs;\n\nvar _invariant = require(\"invariant\");\n\nvar _invariant2 = _interopRequireDefault(_invariant);\n\nvar _canUseDom = require(\"can-use-dom\");\n\nvar _canUseDom2 = _interopRequireDefault(_canUseDom);\n\nvar _recompose = require(\"recompose\");\n\nvar _propTypes = require(\"prop-types\");\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require(\"react\");\n\nvar _react2 = _interopRequireDefault(_react);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n\nvar LOADING_STATE_NONE = \"NONE\";\nvar LOADING_STATE_BEGIN = \"BEGIN\";\nvar LOADING_STATE_LOADED = \"LOADED\";\n\nfunction withScriptjs(BaseComponent) {\n  var factory = _react2[\"default\"].createFactory(BaseComponent);\n\n  var Container = function (_React$PureComponent) {\n    ;\n    (0, _inherits3[\"default\"])(Container, _React$PureComponent);\n\n    function Container() {\n      var _ref;\n\n      var _temp, _this, _ret;\n\n      (0, _classCallCheck3[\"default\"])(this, Container);\n\n      for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n\n      return _ret = (_temp = (_this = (0, _possibleConstructorReturn3[\"default\"])(this, (_ref = Container.__proto__ || (0, _getPrototypeOf2[\"default\"])(Container)).call.apply(_ref, [this].concat(args))), _this), _this.state = {\n        loadingState: LOADING_STATE_NONE\n      }, _this.isUnmounted = false, _this.handleLoaded = (0, _bind3[\"default\"])(_this.handleLoaded, _this), _temp), (0, _possibleConstructorReturn3[\"default\"])(_this, _ret);\n    }\n\n    ;\n    (0, _createClass3[\"default\"])(Container, [{\n      key: \"handleLoaded\",\n      value: function handleLoaded() {\n        if (this.isUnmounted) {\n          return;\n        }\n\n        this.setState({\n          loadingState: LOADING_STATE_LOADED\n        });\n      }\n    }, {\n      key: \"componentWillMount\",\n      value: function componentWillMount() {\n        var _props = this.props,\n            loadingElement = _props.loadingElement,\n            googleMapURL = _props.googleMapURL;\n        (0, _invariant2[\"default\"])(!!loadingElement && !!googleMapURL, \"Required props loadingElement or googleMapURL is missing. You need to provide both of them.\");\n      }\n    }, {\n      key: \"componentDidMount\",\n      value: function componentDidMount() {\n        var loadingState = this.state.loadingState;\n\n        if (loadingState !== LOADING_STATE_NONE || !_canUseDom2[\"default\"]) {\n          return;\n        }\n\n        this.setState({\n          loadingState: LOADING_STATE_BEGIN\n        }); // Don't load scriptjs as a dependency since we do not want this module be used on server side.\n        // eslint-disable-next-line global-require\n\n        var scriptjs = require(\"scriptjs\");\n\n        var googleMapURL = this.props.googleMapURL;\n        scriptjs(googleMapURL, this.handleLoaded);\n      }\n    }, {\n      key: \"componentWillUnmount\",\n      value: function componentWillUnmount() {\n        this.isUnmounted = true;\n      }\n    }, {\n      key: \"render\",\n      value: function render() {\n        var _props2 = this.props,\n            loadingElement = _props2.loadingElement,\n            googleMapURL = _props2.googleMapURL,\n            restProps = (0, _objectWithoutProperties3[\"default\"])(_props2, [\"loadingElement\", \"googleMapURL\"]);\n        var loadingState = this.state.loadingState;\n\n        if (loadingState === LOADING_STATE_LOADED) {\n          return factory(restProps);\n        } else {\n          return loadingElement;\n        }\n      }\n    }]);\n    return Container;\n  }(_react2[\"default\"].PureComponent);\n\n  Container.displayName = \"withScriptjs(\" + (0, _recompose.getDisplayName)(BaseComponent) + \")\";\n  Container.propTypes = {\n    loadingElement: _propTypes2[\"default\"].node.isRequired,\n    googleMapURL: _propTypes2[\"default\"].string.isRequired\n  };\n  return Container;\n}\n\nexports[\"default\"] = withScriptjs;","map":{"version":3,"sources":["D:/TCB2/node_modules/react-google-maps/lib/withScriptjs.js"],"names":["Object","defineProperty","exports","value","_objectWithoutProperties2","require","_objectWithoutProperties3","_interopRequireDefault","_getPrototypeOf","_getPrototypeOf2","_classCallCheck2","_classCallCheck3","_createClass2","_createClass3","_possibleConstructorReturn2","_possibleConstructorReturn3","_inherits2","_inherits3","_bind2","_bind3","withScriptjs","_invariant","_invariant2","_canUseDom","_canUseDom2","_recompose","_propTypes","_propTypes2","_react","_react2","obj","__esModule","LOADING_STATE_NONE","LOADING_STATE_BEGIN","LOADING_STATE_LOADED","BaseComponent","factory","createFactory","Container","_React$PureComponent","_ref","_temp","_this","_ret","_len","arguments","length","args","Array","_key","__proto__","call","apply","concat","state","loadingState","isUnmounted","handleLoaded","key","setState","componentWillMount","_props","props","loadingElement","googleMapURL","componentDidMount","scriptjs","componentWillUnmount","render","_props2","restProps","PureComponent","displayName","getDisplayName","propTypes","node","isRequired","string"],"mappings":"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","sourcesContent":["\"use strict\"\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true,\n})\n\nvar _objectWithoutProperties2 = require(\"babel-runtime/helpers/objectWithoutProperties\")\n\nvar _objectWithoutProperties3 = _interopRequireDefault(\n  _objectWithoutProperties2\n)\n\nvar _getPrototypeOf = require(\"babel-runtime/core-js/object/get-prototype-of\")\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf)\n\nvar _classCallCheck2 = require(\"babel-runtime/helpers/classCallCheck\")\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2)\n\nvar _createClass2 = require(\"babel-runtime/helpers/createClass\")\n\nvar _createClass3 = _interopRequireDefault(_createClass2)\n\nvar _possibleConstructorReturn2 = require(\"babel-runtime/helpers/possibleConstructorReturn\")\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(\n  _possibleConstructorReturn2\n)\n\nvar _inherits2 = require(\"babel-runtime/helpers/inherits\")\n\nvar _inherits3 = _interopRequireDefault(_inherits2)\n\nvar _bind2 = require(\"lodash/bind\")\n\nvar _bind3 = _interopRequireDefault(_bind2)\n\nexports.withScriptjs = withScriptjs\n\nvar _invariant = require(\"invariant\")\n\nvar _invariant2 = _interopRequireDefault(_invariant)\n\nvar _canUseDom = require(\"can-use-dom\")\n\nvar _canUseDom2 = _interopRequireDefault(_canUseDom)\n\nvar _recompose = require(\"recompose\")\n\nvar _propTypes = require(\"prop-types\")\n\nvar _propTypes2 = _interopRequireDefault(_propTypes)\n\nvar _react = require(\"react\")\n\nvar _react2 = _interopRequireDefault(_react)\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj }\n}\n\nvar LOADING_STATE_NONE = \"NONE\"\nvar LOADING_STATE_BEGIN = \"BEGIN\"\nvar LOADING_STATE_LOADED = \"LOADED\"\n\nfunction withScriptjs(BaseComponent) {\n  var factory = _react2.default.createFactory(BaseComponent)\n\n  var Container = (function(_React$PureComponent) {\n    ;(0, _inherits3.default)(Container, _React$PureComponent)\n\n    function Container() {\n      var _ref\n\n      var _temp, _this, _ret\n\n      ;(0, _classCallCheck3.default)(this, Container)\n\n      for (\n        var _len = arguments.length, args = Array(_len), _key = 0;\n        _key < _len;\n        _key++\n      ) {\n        args[_key] = arguments[_key]\n      }\n\n      return (\n        (_ret = ((_temp = ((_this = (0, _possibleConstructorReturn3.default)(\n          this,\n          (_ref =\n            Container.__proto__ ||\n            (0, _getPrototypeOf2.default)(Container)).call.apply(\n            _ref,\n            [this].concat(args)\n          )\n        )),\n        _this)),\n        (_this.state = {\n          loadingState: LOADING_STATE_NONE,\n        }),\n        (_this.isUnmounted = false),\n        (_this.handleLoaded = (0, _bind3.default)(_this.handleLoaded, _this)),\n        _temp)),\n        (0, _possibleConstructorReturn3.default)(_this, _ret)\n      )\n    }\n\n    ;(0, _createClass3.default)(Container, [\n      {\n        key: \"handleLoaded\",\n        value: function handleLoaded() {\n          if (this.isUnmounted) {\n            return\n          }\n          this.setState({\n            loadingState: LOADING_STATE_LOADED,\n          })\n        },\n      },\n      {\n        key: \"componentWillMount\",\n        value: function componentWillMount() {\n          var _props = this.props,\n            loadingElement = _props.loadingElement,\n            googleMapURL = _props.googleMapURL\n\n          ;(0, _invariant2.default)(\n            !!loadingElement && !!googleMapURL,\n            \"Required props loadingElement or googleMapURL is missing. You need to provide both of them.\"\n          )\n        },\n      },\n      {\n        key: \"componentDidMount\",\n        value: function componentDidMount() {\n          var loadingState = this.state.loadingState\n\n          if (loadingState !== LOADING_STATE_NONE || !_canUseDom2.default) {\n            return\n          }\n          this.setState({\n            loadingState: LOADING_STATE_BEGIN,\n          })\n          // Don't load scriptjs as a dependency since we do not want this module be used on server side.\n          // eslint-disable-next-line global-require\n          var scriptjs = require(\"scriptjs\")\n          var googleMapURL = this.props.googleMapURL\n\n          scriptjs(googleMapURL, this.handleLoaded)\n        },\n      },\n      {\n        key: \"componentWillUnmount\",\n        value: function componentWillUnmount() {\n          this.isUnmounted = true\n        },\n      },\n      {\n        key: \"render\",\n        value: function render() {\n          var _props2 = this.props,\n            loadingElement = _props2.loadingElement,\n            googleMapURL = _props2.googleMapURL,\n            restProps = (0, _objectWithoutProperties3.default)(_props2, [\n              \"loadingElement\",\n              \"googleMapURL\",\n            ])\n          var loadingState = this.state.loadingState\n\n          if (loadingState === LOADING_STATE_LOADED) {\n            return factory(restProps)\n          } else {\n            return loadingElement\n          }\n        },\n      },\n    ])\n    return Container\n  })(_react2.default.PureComponent)\n\n  Container.displayName =\n    \"withScriptjs(\" + (0, _recompose.getDisplayName)(BaseComponent) + \")\"\n  Container.propTypes = {\n    loadingElement: _propTypes2.default.node.isRequired,\n    googleMapURL: _propTypes2.default.string.isRequired,\n  }\n\n  return Container\n}\n\nexports.default = withScriptjs\n"]},"metadata":{},"sourceType":"script"}