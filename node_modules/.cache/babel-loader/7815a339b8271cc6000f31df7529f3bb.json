{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _bind2 = require(\"lodash/bind\");\n\nvar _bind3 = _interopRequireDefault(_bind2);\n\nvar _isFunction2 = require(\"lodash/isFunction\");\n\nvar _isFunction3 = _interopRequireDefault(_isFunction2);\n\nvar _reduce3 = require(\"lodash/reduce\");\n\nvar _reduce4 = _interopRequireDefault(_reduce3);\n\nvar _forEach2 = require(\"lodash/forEach\");\n\nvar _forEach3 = _interopRequireDefault(_forEach2);\n\nvar _lowerFirst2 = require(\"lodash/lowerFirst\");\n\nvar _lowerFirst3 = _interopRequireDefault(_lowerFirst2);\n\nvar _has2 = require(\"lodash/has\");\n\nvar _has3 = _interopRequireDefault(_has2);\n\nexports.construct = construct;\nexports.componentDidMount = componentDidMount;\nexports.componentDidUpdate = componentDidUpdate;\nexports.componentWillUnmount = componentWillUnmount;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    \"default\": obj\n  };\n}\n/* global google */\n\n/* eslint-disable no-param-reassign */\n\n\nfunction rdcUncontrolledAndControlledProps(acc, value, key) {\n  if ((0, _has3[\"default\"])(acc.prevProps, key)) {\n    var match = key.match(/^default(\\S+)/);\n\n    if (match) {\n      var unprefixedKey = (0, _lowerFirst3[\"default\"])(match[1]);\n\n      if (!(0, _has3[\"default\"])(acc.nextProps, unprefixedKey)) {\n        acc.nextProps[unprefixedKey] = acc.prevProps[key];\n      }\n    } else {\n      acc.nextProps[key] = acc.prevProps[key];\n    }\n  }\n\n  return acc;\n}\n\nfunction applyUpdaterToNextProps(updaterMap, prevProps, nextProps, instance) {\n  ;\n  (0, _forEach3[\"default\"])(updaterMap, function (fn, key) {\n    var nextValue = nextProps[key];\n\n    if (nextValue !== prevProps[key]) {\n      fn(instance, nextValue);\n    }\n  });\n}\n\nfunction construct(propTypes, updaterMap, prevProps, instance) {\n  var _reduce2 = (0, _reduce4[\"default\"])(propTypes, rdcUncontrolledAndControlledProps, {\n    nextProps: {},\n    prevProps: prevProps\n  }),\n      nextProps = _reduce2.nextProps;\n\n  applyUpdaterToNextProps(updaterMap, {\n    /* empty prevProps for construct */\n  }, nextProps, instance);\n}\n\nfunction componentDidMount(component, instance, eventMap) {\n  registerEvents(component, instance, eventMap);\n}\n\nfunction componentDidUpdate(component, instance, eventMap, updaterMap, prevProps) {\n  component.unregisterAllEvents();\n  applyUpdaterToNextProps(updaterMap, prevProps, component.props, instance);\n  registerEvents(component, instance, eventMap);\n}\n\nfunction componentWillUnmount(component) {\n  component.unregisterAllEvents();\n}\n\nfunction registerEvents(component, instance, eventMap) {\n  var registeredList = (0, _reduce4[\"default\"])(eventMap, function (acc, googleEventName, onEventName) {\n    if ((0, _isFunction3[\"default\"])(component.props[onEventName])) {\n      acc.push(google.maps.event.addListener(instance, googleEventName, component.props[onEventName]));\n    }\n\n    return acc;\n  }, []);\n  component.unregisterAllEvents = (0, _bind3[\"default\"])(_forEach3[\"default\"], null, registeredList, unregisterEvent);\n}\n\nfunction unregisterEvent(registered) {\n  google.maps.event.removeListener(registered);\n}","map":{"version":3,"sources":["D:/TCB2/node_modules/react-google-maps/lib/utils/MapChildHelper.js"],"names":["Object","defineProperty","exports","value","_bind2","require","_bind3","_interopRequireDefault","_isFunction2","_isFunction3","_reduce3","_reduce4","_forEach2","_forEach3","_lowerFirst2","_lowerFirst3","_has2","_has3","construct","componentDidMount","componentDidUpdate","componentWillUnmount","obj","__esModule","rdcUncontrolledAndControlledProps","acc","key","prevProps","match","unprefixedKey","nextProps","applyUpdaterToNextProps","updaterMap","instance","fn","nextValue","propTypes","_reduce2","component","eventMap","registerEvents","unregisterAllEvents","props","registeredList","googleEventName","onEventName","push","google","maps","event","addListener","unregisterEvent","registered","removeListener"],"mappings":"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","sourcesContent":["\"use strict\"\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true,\n})\n\nvar _bind2 = require(\"lodash/bind\")\n\nvar _bind3 = _interopRequireDefault(_bind2)\n\nvar _isFunction2 = require(\"lodash/isFunction\")\n\nvar _isFunction3 = _interopRequireDefault(_isFunction2)\n\nvar _reduce3 = require(\"lodash/reduce\")\n\nvar _reduce4 = _interopRequireDefault(_reduce3)\n\nvar _forEach2 = require(\"lodash/forEach\")\n\nvar _forEach3 = _interopRequireDefault(_forEach2)\n\nvar _lowerFirst2 = require(\"lodash/lowerFirst\")\n\nvar _lowerFirst3 = _interopRequireDefault(_lowerFirst2)\n\nvar _has2 = require(\"lodash/has\")\n\nvar _has3 = _interopRequireDefault(_has2)\n\nexports.construct = construct\nexports.componentDidMount = componentDidMount\nexports.componentDidUpdate = componentDidUpdate\nexports.componentWillUnmount = componentWillUnmount\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : { default: obj }\n}\n\n/* global google */\n/* eslint-disable no-param-reassign */\nfunction rdcUncontrolledAndControlledProps(acc, value, key) {\n  if ((0, _has3.default)(acc.prevProps, key)) {\n    var match = key.match(/^default(\\S+)/)\n    if (match) {\n      var unprefixedKey = (0, _lowerFirst3.default)(match[1])\n      if (!(0, _has3.default)(acc.nextProps, unprefixedKey)) {\n        acc.nextProps[unprefixedKey] = acc.prevProps[key]\n      }\n    } else {\n      acc.nextProps[key] = acc.prevProps[key]\n    }\n  }\n  return acc\n}\n\nfunction applyUpdaterToNextProps(updaterMap, prevProps, nextProps, instance) {\n  ;(0, _forEach3.default)(updaterMap, function(fn, key) {\n    var nextValue = nextProps[key]\n    if (nextValue !== prevProps[key]) {\n      fn(instance, nextValue)\n    }\n  })\n}\n\nfunction construct(propTypes, updaterMap, prevProps, instance) {\n  var _reduce2 = (0, _reduce4.default)(\n      propTypes,\n      rdcUncontrolledAndControlledProps,\n      {\n        nextProps: {},\n        prevProps: prevProps,\n      }\n    ),\n    nextProps = _reduce2.nextProps\n\n  applyUpdaterToNextProps(\n    updaterMap,\n    {\n      /* empty prevProps for construct */\n    },\n    nextProps,\n    instance\n  )\n}\n\nfunction componentDidMount(component, instance, eventMap) {\n  registerEvents(component, instance, eventMap)\n}\n\nfunction componentDidUpdate(\n  component,\n  instance,\n  eventMap,\n  updaterMap,\n  prevProps\n) {\n  component.unregisterAllEvents()\n  applyUpdaterToNextProps(updaterMap, prevProps, component.props, instance)\n  registerEvents(component, instance, eventMap)\n}\n\nfunction componentWillUnmount(component) {\n  component.unregisterAllEvents()\n}\n\nfunction registerEvents(component, instance, eventMap) {\n  var registeredList = (0, _reduce4.default)(\n    eventMap,\n    function(acc, googleEventName, onEventName) {\n      if ((0, _isFunction3.default)(component.props[onEventName])) {\n        acc.push(\n          google.maps.event.addListener(\n            instance,\n            googleEventName,\n            component.props[onEventName]\n          )\n        )\n      }\n      return acc\n    },\n    []\n  )\n\n  component.unregisterAllEvents = (0, _bind3.default)(\n    _forEach3.default,\n    null,\n    registeredList,\n    unregisterEvent\n  )\n}\n\nfunction unregisterEvent(registered) {\n  google.maps.event.removeListener(registered)\n}\n"]},"metadata":{},"sourceType":"script"}